#include <stdio.h>
#include <math.h>

#define PI 3.14159265

// HÃ m tÃ­nh gÃ³c tá»« tÃ¢m Ä‘áº¿n má»™t Ä‘iá»ƒm
double angle(double xc, double yc, double x, double y) {
    return atan2(y - yc, x - xc);
}

int main() {
    // âš™ï¸ Khai bÃ¡o Ä‘iá»ƒm Ä‘áº§u, Ä‘iá»ƒm cuá»‘i vÃ  tÃ¢m cung
    double x0 = -20, y0 = 0;      // Äiá»ƒm Ä‘áº§u
    double x1 = 0, y1 = 20;     // Äiá»ƒm cuá»‘i
    double xc = 0, yc = 0;      // TÃ¢m cung

    int steps = 20;             // Sá»‘ bÆ°á»›c ná»™i suy
    int clockwise = 1;          // ğŸ‘‰ 1 = G02 (CW), 0 = G03 (CCW)

    // ğŸ” TÃ­nh bÃ¡n kÃ­nh cung
    double R = sqrt((x0 - xc)*(x0 - xc) + (y0 - yc)*(y0 - yc));

    // ğŸ¯ TÃ­nh gÃ³c tá»« tÃ¢m Ä‘áº¿n Ä‘iá»ƒm Ä‘áº§u vÃ  cuá»‘i
    double theta_start = angle(xc, yc, x0, y0);
    double theta_end   = angle(xc, yc, x1, y1);

    // ğŸ”„ Äiá»u chá»‰nh gÃ³c theo chiá»u quay mong muá»‘n
    if (clockwise) {
        if (theta_end >= theta_start)
            theta_end -= 2 * PI;
    } else {
        if (theta_end <= theta_start)
            theta_end += 2 * PI;
    }

    // ğŸŒ€ Ná»™i suy cÃ¡c Ä‘iá»ƒm theo cung
    printf("Ná»™i suy theo chiá»u %s:\n", clockwise ? "G02 (CW)" : "G03 (CCW)");
    for (int i = 0; i <= steps; ++i) {
        double t = (double)i / steps;
        double theta = theta_start + t * (theta_end - theta_start);
        double x = xc + R * cos(theta);
        double y = yc + R * sin(theta);
        printf("Point %2d: x = %.3f, y = %.3f\n", i, x, y);
    }

    return 0;
}
